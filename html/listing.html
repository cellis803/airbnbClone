<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>AirbNb</title>        
        <link rel="stylesheet" href="static/node_modules/bootstrap/dist/css/bootstrap.css">
        <link rel="stylesheet" href="static/styles/airbnb.css">
        <script src="http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular-route.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/1.3.3/ui-bootstrap.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/1.3.3/ui-bootstrap-tpls.js"></script>     
        <script src="static/js/airbnbController.js"></script>   
        <script src="static/js/airbnbFactory.js"></script>
        <script src="static/js/airbnbFilter.js"></script>                
   </head>
  
    <body ng-app="airbnbApp" ng-controller="airbnbCtrl">
     <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <a class="navbar-brand" href="#">AirbNb</a>
          </div>
        </div>
      </nav>
           
      <div class="container">       
       
        <div class="col-sm-12 listingrental-form">      
          <div class="row listingrental-form-row" ng-if="!addListing && !editListing">
            <div class="col-sm-6">
              <div class="input-group">
                <span class="input-group-addon">Min Rental Amount</span>
                <select type="select" name="minPrice" id="minPrice" ng-model="rentalAmt.min" class="form-control">
                  <option value="100">$100</option>
                  <option value="200">$200</option>
                  <option value="300">$300</option>
                  <option value="400">$400</option>
                  <option value="500">$500</option>
                  <option value="600">$600</option>
                  <option value="700">$700</option>
                  <option value="800">$800</option>
                  <option value="900">$900</option>
                  <option value="1000">$1,000</option>
                </select>
              </div>          
            </div>

            <div class="col-sm-6">
              <div class="input-group">
                <span class="input-group-addon">Max Rental Amount</span>
                <select type="select" name="maxPrice" id="maxPrice" ng-model="rentalAmt.max" class="form-control">
                  <option value="100">$100</option>
                  <option value="200">$200</option>
                  <option value="300">$300</option>
                  <option value="400">$400</option>
                  <option value="500">$500</option>
                  <option value="600">$600</option>
                  <option value="700">$700</option>
                  <option value="800">$800</option>
                  <option value="900">$900</option>
                  <option value="1000">$1,000</option>
                </select>
              </div>          
            </div>
          </div>


          <button class="btn btn-primary" ng-click="addListing = !addListing" ng-show="!addListing && !editListing">Add Listing</button>
          <button class="btn btn-danger" ng-click="addListing = !addListing" ng-show="addListing">Close</button>

          <div class="listing-form" ng-if="addListing">
 
           <h3>Add a Listing</h3>

            <div class="row listing-form-row">
              <div class="col-sm-6">
                <div class="input-group">
                  <span class="input-group-addon">Address</span>
                  <input type="text" placeholder="Address" class="form-control" ng-model="newListing.address1">
                </div>
              </div>

              <div class="col-sm-6">                
              </div>
            </div>

            <div class="row listing-form-row">
                  <div class="col-sm-4">
                    <div class="input-group">
                      <span class="input-group-addon">City</span>
                      <input type="text" placeholder="City" class="form-control" ng-model="newListing.city">
                    </div>    
                </div>  
                <div class="col-sm-4">
                    <div class="input-group">
                      <span class="input-group-addon">State</span>
                      <input type="text" placeholder="State" class="form-control" ng-model="newListing.state">
                    </div>    
                </div>  
                <div class="col-sm-4">
                    <div class="input-group">
                      <span class="input-group-addon">Zip</span>
                      <input type="text" placeholder="Zip" class="form-control" ng-model="newListing.zip">
                    </div>    
                </div>  
             </div>  
             
             
             <div class="row listing-form-row">
                  <div class="col-sm-6">
                    <div class="input-group">
                      <span class="input-group-addon">Country</span>
                      <input type="text" placeholder="Country" class="form-control" ng-model="newListing.country">
                    </div>
                  </div>

                  <div class="col-sm-6">                
                  </div>
             </div>
  
             <div class="row listing-form-row">
                <div class="col-sm-4">
                  <div class="input-group">
                    <span class="input-group-addon">Property Type</span>
                    <select type="select" name="propertyType" id="propertyType" class="form-control" ng-model="newListing.type">
                      <option value="House">House</option>
                      <option value="Condo">Condo</option>
                      <option value="Duplex">Duplex</option>
                      <option value="Apartment">Apartment</option>
                    </select>
                  </div>
               </div>

               <div class="col-sm-4">
                <div class="input-group">
                  <span class="input-group-addon">Price</span>
                  <input type="text" placeholder="price" class="form-control" ng-model="newListing.price">
                </div>
               </div> 

               <div class="col-sm-4">
                <div class="input-group">
                  <span class="input-group-addon">Duration</span>                  
                  <select type="select" name="Duration" id="Duration" class="form-control" ng-model="newListing.duration">
                      <option value="Weekly">Weekly</option>
                      <option value="Bi-Weekly">Bi-Weekly</option>
                      <option value="Monthly">Monthly</option>                      
                    </select>
                </div>
              </div>
            </div>
             
            <div class="row listing-form-row">
              <div class="col-sm-6">
                <div class="input-group">
                  <span class="input-group-addon">Title</span>
                  <textarea type="text" placeholder="Title" class="form-control" ng-model="newListing.title"></textarea>
                </div>
              </div>
              <div class="col-sm-6">                
              </div>
            </div>
            
            <div class="row listing-form-row">
              <div class="col-sm-12">
                <div class="input-group">
                  <span class="input-group-addon">Description</span>
                  <textarea type="text" placeholder="Description" class="form-control" ng-model="newListing.description"></textarea>
                </div>
              </div>
            </div>


              <div class="row listing-form-row">
                <div class="col-sm-2">
                  <div class="input-group">
                    <span class="input-group-addon">Beds</span>
                    <input type="text" placeholder="Bedrooms" class="form-control" ng-model="newListing.bedrooms">
                  </div>
                </div>

                <div class="col-sm-2">
                  <div class="input-group">
                    <span class="input-group-addon">Baths</span>
                    <input type="text" placeholder="Bathrooms" class="form-control" ng-model="newListing.bathrooms">
                  </div>
                </div>

                <div class="col-sm-3">
                  <div class="input-group">
                    <span class="input-group-addon">Area SqFt</span>
                    <input type="text" placeholder="Area in SqFt" class="form-control" ng-model="newListing.area">
                  </div>
                </div>

                <div class="col-sm-2">
                  <div class="input-group">
                    <span class="input-group-addon">Pool</span>                  
                    <select type="select" name="pool" id="pool" class="form-control" ng-model="newListing.pool">
                        <option value="1">Yes</option>
                        <option value="0">No</option>                                         
                      </select>
                  </div>
                </div> 

                <div class="col-sm-3">
                  <div class="input-group">
                    <span class="input-group-addon">Pets Allowed</span>                  
                    <select type="select" name="petsAllowed" id="petsAllowed" class="form-control" ng-model="newListing.petsAllowed">
                        <option value="1">Yes</option>
                        <option value="0">No</option>                                         
                      </select>
                  </div>
                </div> 

              </div>

              <div class="row listing-form-row">                
                <div class="col-sm-6">
                  <div class="input-group">
                    <span class="input-group-addon">Contact</span>
                    <input type="text" placeholder="Contact Person" class="form-control" ng-model="newListing.email">
                  </div>
                </div>

                <div class="col-sm-6">
                  <div class="input-group">
                    <span class="input-group-addon">Phone</span>
                    <input type="text" placeholder="Phone" class="form-control" ng-model="newListing.phone">
                  </div>
                </div> 
              </div>
 
            <button class="btn btn-primary listing-button" ng-click="createListing(newListing)" ng-show="addListing">Add</button>

          </div>
          
        </div>

         
       <div class="col-sm-4" ng-repeat="airbnblisting in airbnblistings | airbnbFilter:rentalAmt | orderBy:'-rowid'">          
            <div class="thumbnail">
              <h3>{{airbnblisting.title}}</h3>
              <img ng-src="static/images/{{airbnblisting.image}}" alt="">

               <div class="caption">             
                    <h3><i class="glyphicon glyphicon-tag"></i>{{airbnblisting.price | currency}}/{{airbnblisting.duration}}&nbsp;&nbsp;<span class="label label-success">{{airbnblisting.type}}</span>
                    </h3>
                    <h4><i class="glyphicon glyphicon-home"></i> {{airbnblisting.address1}}<br/>
                     {{airbnblisting.city}}&nbsp;&nbsp;{{airbnblisting.state}}&nbsp;&nbsp;{{airbnblisting.zip}}<br/>
                     {{airbnblisting.country}}              
                    </h4>    
                    <h4>
                      <span class="label label-info nowrap">Description: {{airbnblisting.description}}</span>
                      <br/>
                      <br/>
                      <span class="label label-primary">Beds: {{airbnblisting.bedrooms}}</span>
                      <span class="label label-primary">Baths: {{airbnblisting.bathrooms}}</span>
                      <span class="label label-primary">Pool: {{airbnblisting.pool}}</span>
                      <span class="label label-primary">SqFt: {{airbnblisting.area}}</span>
                      <span class="label label-primary">Pets: {{airbnblisting.petsAllowed}}</span>
                      <br/>
                      <br/>
                      <span class="glyphicon glyphicon-user">&nbsp;<span class="text-left">{{airbnblisting.name}}</span></span>
                      <br/>
                      <span class="glyphicon glyphicon-earphone">&nbsp;<span class="text-left">{{airbnblisting.phone}}</span></span>
                    </h4>
                              
              </div>
            </div>                
          </div>    
        
      </div>

    </body>    
</html>